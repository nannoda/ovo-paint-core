{
  "version": 3,
  "sources": ["src/Worker.ts", "src/submodules/common-ts-utils/WebWorker/CreateWorker.ts", "src/Main.ts"],
  "sourcesContent": ["export function workerFunction() {\r\n    console.log(\"Worker.ts\");\r\n    //\r\n    // if (!onmessage) {\r\n    //     throw new Error(\"Worker.ts: onmessage is undefined.\");\r\n    // }\r\n    //\r\n    //\r\n    // onmessage((event: MessageEvent) => {\r\n    //     console.log(\"Worker.ts got message: \" + event.data);\r\n    // });\r\n\r\n    self.onmessage = (event: MessageEvent) => {\r\n        console.log(\"Worker.ts got message: \");\r\n        console.log(event.data);\r\n        let canvas = event.data.canvas as OffscreenCanvas;\r\n        let ctx = canvas.getContext(\"2d\") as OffscreenCanvasRenderingContext2D;\r\n        ctx.fillStyle = \"red\";\r\n        ctx.fillRect(0, 0, 100, 100);\r\n    }\r\n\r\n    console.log(\"Worker.ts done.\");\r\n}\r\n", "export function createWorkerFromFunction(workerFunction: () => void): Worker {\r\n    checkCompatibility();\r\n    const blob = new Blob(['(' + workerFunction.toString() + ')()'], {type: 'application/javascript'});\r\n    return new Worker(URL.createObjectURL(blob));\r\n}\r\n\r\nfunction checkCompatibility() {\r\n    if (window.Worker === undefined) {\r\n        throw new Error(\"Your browser does not support Web Workers.\");\r\n    }\r\n}\r\n", "import {workerFunction} from \"./Worker\";\r\nimport {createWorkerFromFunction} from \"./submodules/common-ts-utils/WebWorker/CreateWorker\";\r\n\r\nconsole.log(\"Main.ts\");\r\n\r\n\r\nfunction main() {\r\n    let htmlCanvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\n    let offscreenCanvas = htmlCanvas.transferControlToOffscreen();\r\n\r\n    let worker = createWorkerFromFunction(workerFunction);\r\n    worker.onmessage = (event) => {\r\n        console.log(\"Main.ts got message: \" + event.data);\r\n    }\r\n    worker.postMessage({canvas: offscreenCanvas}, [offscreenCanvas]);\r\n}\r\n\r\nmain()\r\n\r\nconsole.log(\"Main.ts done.\")\r\n"],
  "mappings": ";;;AAAO,WAAS,iBAAiB;AAC7B,YAAQ,IAAI,WAAW,GAWvB,KAAK,YAAY,CAAC,UAAwB;AACtC,cAAQ,IAAI,yBAAyB,GACrC,QAAQ,IAAI,MAAM,IAAI;AAEtB,UAAI,MADS,MAAM,KAAK,OACP,WAAW,IAAI;AAChC,UAAI,YAAY,OAChB,IAAI,SAAS,GAAG,GAAG,KAAK,GAAG;AAAA,IAC/B,GAEA,QAAQ,IAAI,iBAAiB;AAAA,EACjC;;;ACtBO,WAAS,yBAAyBA,iBAAoC;AACzE,uBAAmB;AACnB,QAAM,OAAO,IAAI,KAAK,CAAC,MAAMA,gBAAe,SAAS,IAAI,KAAK,GAAG,EAAC,MAAM,yBAAwB,CAAC;AACjG,WAAO,IAAI,OAAO,IAAI,gBAAgB,IAAI,CAAC;AAAA,EAC/C;AAEA,WAAS,qBAAqB;AAC1B,QAAI,OAAO,WAAW;AAClB,YAAM,IAAI,MAAM,4CAA4C;AAAA,EAEpE;;;ACPA,UAAQ,IAAI,SAAS;AAGrB,WAAS,OAAO;AAEZ,QAAI,kBADa,SAAS,eAAe,QAAQ,EAChB,2BAA2B,GAExD,SAAS,yBAAyB,cAAc;AACpD,WAAO,YAAY,CAAC,UAAU;AAC1B,cAAQ,IAAI,0BAA0B,MAAM,IAAI;AAAA,IACpD,GACA,OAAO,YAAY,EAAC,QAAQ,gBAAe,GAAG,CAAC,eAAe,CAAC;AAAA,EACnE;AAEA,OAAK;AAEL,UAAQ,IAAI,eAAe;",
  "names": ["workerFunction"]
}
